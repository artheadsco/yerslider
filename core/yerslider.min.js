/*
 * yerSlider
 * A javascript object for slided content
 *
 * Copyright (c) 2013 Johann Heyne
 *
 * Version 1
 * Update 2013-07-16
 *
 * Minimum requirements: jQuery v1.6+
 *
 * Terms of use:
 * Dual licensed under the MIT or GPL Version 2 licenses.
 *
 */function yerSlider(){var e=this;e.param={slidegap:0,slidegroupresp:{},slidegroup:1,sliderid:".yerslider",sliderwrapclass:".yerslider-wrap",sliderwrapclasshasbullets:".yerslider-has-bullets",slidermaskclass:".yerslider-mask",sliderclass:".yerslider-slider",slideclass:".yerslider-slide",bulletswrapclass:".yerslider-bullets-wrap",bulletclass:".yerslider-bullet",bulletcurrentclass:".yerslider-bullet-current",bulletclickable:!0,nextbtn:!0,prevbtn:!0,scrolltop:!1,scrolltopval:0,scrolltopspeed:500,nextclass:".yerslider-next",prevclass:".yerslider-prev",nextclassadd:"",prevclassadd:"",nextinactiveclass:".yerslider-next-inactive",previnactiveclass:".yerslider-prev-inactive",animationspeed:1e3,animationtype:"ease",bullets:!1,loop:"none",autoplay:!1,autoplayinterval:3e3,autoplaystoponhover:!0,showslidestype:"fade",showslidestime:500,swipe:!1,swipeanimationspeed:300};e.stat={slidegroupmax:1,slidegroup:1,currentslideindex:0,currentslideposition:0,slidecount:0,slidermaskwidth:0,slidewidth:0,isanimating:!1,isswiping:!1,nextbtnclickable:!1,prevbtnclickable:!1,bulletscount:0,bulletscountcache:0,bulletcurrent:0,bulletschanged:!1,slidingleft:!1,slidingright:!1,resizing:!1,cssanimation:!1,isevent:!1,touch:!1,clicktype:"click",isios:!1,isresizing:!1,slidesinviewportindexbegin:!1,slidesinviewportindexend:!1,slidesinviewportindexes:!1,autoplayinterval:!1};e.obj={sliderid:undefined,sliderwrap:undefined,slider:undefined,slide:undefined,bulletswrap:undefined,bullets:undefined,prevbtn:undefined,nextbtn:undefined};e.init=function(n){e.init_getdefaultparam(n);if(jQuery(e.param.sliderid).length>0){e.init_animation();e.init_touch();e.init_isios();e.init_ojects();e.obj.slider.hide();e.init_css();e.set_slidermaskwidth();e.set_slidecount();e.set_slidegroup();e.set_slidegroupmax();e.set_slidesinviewport();e.set_slidewidth();e.set_slideheight();e.clon_slides();e.set_prevnext();e.bullets();e.init_touchswipe();e.init_iosresizeclickbug();e.init_showslides();e.check_slider_current_index_at_start();e.autoplayinit()}};e.init_getdefaultparam=function(n){e.param=e.helper.setDefaultParam({p:n,d:e.param})};e.init_animation=function(){jQuery("html").hasClass("csstransforms3d csstransitions")&&e.param.slidegroup>0&&(e.stat.cssanimation=!0)};e.init_touch=function(){if(jQuery("html").hasClass("touch")){e.stat.touch=!0;e.stat.clicktype="touchend"}if(e.stat.touch&&e.param.swipe){e.param.nextbtn=!1;e.param.prevbtn=!1}};e.init_isios=function(){navigator.userAgent.match(/(iPod|iPhone|iPad)/)&&(e.stat.isios=!0)};e.init_ojects=function(){e.obj.sliderid=jQuery(e.param.sliderid);e.obj.sliderwrap=jQuery(e.param.sliderid);e.obj.slidermask=jQuery(e.param.sliderid+" "+e.param.slidermaskclass);e.obj.slider=jQuery(e.param.sliderid+" "+e.param.sliderclass);e.obj.slide=jQuery(e.param.sliderid+" "+e.param.slideclass)};e.init_css=function(){e.obj.sliderwrap.css({position:"relative",width:"100%",overflow:"hidden"});e.obj.slidermask.css({position:"relative",width:"100%"});e.obj.slider.css({"white-space":"nowrap",position:"relative","list-style-type":"none",padding:0,margin:0,"line-height":0,"font-size":0});e.obj.slide.css({display:"inline-block","white-space":"normal"})};e.init_touchswipe=function(){e.stat.touch&&e.param.swipe&&e.touchswipe()};e.init_iosresizeclickbug=function(){jQuery(window).resize(function(){window.setTimeout(function(){!e.stat.isresizing&&!e.stat.isevent&&e.resize()},100)})};e.init_video=function(){};e.init_showslides=function(){e.obj.slider.show()};e.set_slidermaskwidth=function(){if(e.param.insidetablecellfix){e.obj.slider.hide();e.obj.slidermask.css("width","100%")}e.stat.slidermaskwidth=e.obj.slidermask.innerWidth();if(e.param.insidetablecellfix){e.obj.slidermask.css("width",e.obj.slidermask.width()+"px");e.obj.slider.show()}};e.set_slidecount=function(){e.stat.slidecount=e.obj.slide.size()};e.set_slidegroup=function(){var n=e.obj.slidermask.innerWidth(),r=e.param.slidegroup;if(e.helper.getLength(e.param.slidegroupresp)>0)for(var i in e.param.slidegroupresp)i<=e.stat.slidermaskwidth&&(r=e.param.slidegroupresp[i]);if(r>=e.stat.slidecount){r=e.stat.slidecount;e.stat.currentslideindex=0;e.move_slider_to_current_index()}e.stat.slidegroup=r};e.set_slidegroupmax=function(){e.stat.slidegroupmax=e.stat.slidegroup;for(var n in e.param.slidegroupresp)e.stat.slidegroupmax<e.param.slidegroupresp[n]&&(e.stat.slidegroupmax=e.param.slidegroupresp[n])};e.set_slidewidth=function(){if(e.stat.slidegroup>0){e.stat.slidewidth=Math.floor((e.stat.slidermaskwidth-e.param.slidegap*(e.stat.slidegroup-1))/e.stat.slidegroup);var n=e.stat.slidermaskwidth-(e.stat.slidewidth*e.stat.slidegroup+e.param.slidegap*(e.stat.slidegroup-1));e.obj.slide.width(e.stat.slidewidth).css("margin-right",e.param.slidegap+"px").last().css("margin-right","0");if(n>0)for(var r=0;r<n;r++)jQuery(e.param.sliderid+" "+e.param.slideclass+":nth-child("+(1+r)+"n-"+(e.stat.slidegroup-1)+")").css("margin-right",e.param.slidegap+1+"px")}e.stat.slidegroup===0&&e.obj.slide.css({width:"auto","margin-right":e.param.slidegap+"px"})};e.set_slideheight=function(){};e.set_slidesinviewport=function(){e.stat.slidesinviewportindexbegin=e.stat.currentslideindex;e.stat.slidesinviewportindexend=e.stat.currentslideindex+(e.stat.slidegroup-1);e.stat.slidesinviewportindexes=[];for(i=0;i<e.stat.slidecount;i++)i>=e.stat.slidesinviewportindexbegin&&i<=e.stat.slidesinviewportindexend&&e.stat.slidesinviewportindexes.push(i)};e.set_prevnext=function(){if(e.stat.slidecount>e.stat.slidegroup){var n="",r="";if(typeof e.obj.nextbtn!="object"&&e.param.nextbtn){e.param.nextclassadd!==""&&(n=" "+e.param.nextclassadd.replace(".",""));e.obj.sliderwrap.append('<div class="js-yerslider-next yerslider-prevnext '+e.param.nextclass.replace(".","")+n+'">');e.obj.nextbtn=jQuery(e.param.sliderid+" "+e.param.nextclass)}if(typeof e.obj.prevbtn!="object"&&e.param.prevbtn){e.param.prevclassadd!==""&&(r=" "+e.param.prevclassadd.replace(".",""));e.obj.sliderwrap.append('<div class="js-yerslider-prev yerslider-prevnext '+e.param.prevclass.replace(".","")+r+'">');e.obj.prevbtn=jQuery(e.param.sliderid+" "+e.param.prevclass)}e.refresh_prevnext()}else{if(typeof e.obj.nextbtn=="object"){e.obj.nextbtn.remove();e.obj.nextbtn=undefined;e.stat.nextbtnclickable=!1}if(typeof e.obj.prevbtn=="object"){e.obj.prevbtn.remove();e.obj.prevbtn=undefined;e.stat.prevbtnclickable=!1}}};e.next_slide=function(){e.stat.currentslideindex=e.stat.currentslideindex+e.stat.slidegroup;e.check_slider_current_index();e.set_slide_current_class();e.set_slidesinviewport()};e.prev_slide=function(){e.stat.currentslideindex=e.stat.currentslideindex-e.stat.slidegroup;e.check_slider_current_index();e.set_slide_current_class();e.set_slidesinviewport()};e.next_job=function(){if(!e.stat.isanimating){e.stat.isanimating=!0;e.stat.slidingright=!0;e.next_slide();e.param.scrolltop&&jQuery("body").animate({scrollTop:e.param.scrolltopval},e.param.scrolltopspeed);e.animate_slider_to_current_position(e.get_animationspeed());e.refresh_prevnext();if(e.param.bullets){e.set_bullet_current();e.set_bullet_current_class()}e.stat.slidingright=!1}};e.prev_job=function(){if(!e.stat.isanimating){e.stat.isanimating=!0;e.stat.slidingleft=!0;e.prev_slide();e.param.scrolltop&&jQuery("body").animate({scrollTop:e.param.scrolltopval},e.param.scrolltopspeed);e.animate_slider_to_current_position(e.get_animationspeed());e.refresh_prevnext();if(e.param.bullets){e.set_bullet_current();e.set_bullet_current_class()}e.stat.slidingleft=!1}};e.nextbtn_click=function(){if(e.obj.nextbtn&&!e.stat.nextbtnclickable){e.obj.nextbtn.on(e.stat.clicktype,function(){e.next_job()});e.stat.nextbtnclickable=!0}};e.prevbtn_click=function(){if(e.obj.prevbtn&&!e.stat.prevbtnclickable){e.obj.prevbtn.on(e.stat.clicktype,function(){e.prev_job()});e.stat.prevbtnclickable=!0}};e.nextbtn_click_unbind=function(){e.obj.nextbtn.unbind("click").addClass(e.param.nextinactiveclass.replace(".",""));e.stat.nextbtnclickable=!1};e.prevbtn_click_unbind=function(){e.obj.prevbtn.unbind("click").addClass(e.param.previnactiveclass.replace(".",""));e.stat.prevbtnclickable=!1};e.refresh_prevnext=function(){e.stat.nextbtnclickable||e.nextbtn_click();e.stat.prevbtnclickable||e.prevbtn_click();e.obj.nextbtn&&e.obj.nextbtn.removeClass(e.param.nextinactiveclass.replace(".",""));e.obj.prevbtn&&e.obj.prevbtn.removeClass(e.param.previnactiveclass.replace(".",""));if(e.param.loop==="none"){e.obj.nextbtn&&e.stat.currentslideindex>=e.stat.slidecount-e.stat.slidegroup&&e.nextbtn_click_unbind();e.obj.prevbtn&&e.stat.currentslideindex<=0&&e.prevbtn_click_unbind()}};e.set_slide_current_class=function(){e.obj.slide.removeClass("current");jQuery(e.obj.slide[e.stat.currentslideindex]).addClass("current")};e.autoplayinit=function(){if(e.param.autoplay){e.autoplayset();e.param.autoplaystoponhover&&e.autoplayhover()}};e.autoplayset=function(){e.stat.autoplayinterval=window.setInterval(function(){if(!e.stat.isanimating){e.stat.isanimating=!0;e.stat.slidingright=!0;e.next_slide();e.animate_slider_to_current_position(e.get_animationspeed());e.refresh_prevnext();if(e.param.bullets){e.set_bullet_current();e.set_bullet_current_class()}e.stat.slidingright=!1}},e.param.autoplayinterval)};e.autoplayclear=function(){e.stat.autoplayinterval=clearInterval(e.stat.autoplayinterval)};e.autoplayhover=function(){jQuery(e.param.slidermaskclass+","+e.param.nextclass+","+e.param.prevclass+","+e.param.bulletclass).mouseenter(function(){e.autoplayclear()});jQuery(e.param.slidermaskclass+","+e.param.nextclass+","+e.param.prevclass+","+e.param.bulletclass).mouseleave(function(){e.autoplayset()})};e.bullets=function(){if(e.param.bullets){e.obj.sliderwrap.addClass(e.param.sliderwrapclasshasbullets.replace(".",""));if(typeof e.obj.bulletswrap!="object"){e.obj.sliderwrap.append('<div class="'+e.param.bulletswrapclass.replace(".","")+'"></div>');e.obj.bulletswrap=e.obj.sliderwrap.find(e.param.bulletswrapclass)}e.stat.bulletscount=Math.ceil(e.stat.slidecount/e.stat.slidegroup);e.set_bullet_current();e.bullet_items();e.set_bullet_current_class();e.bullet_click()}};e.bullet_items=function(){if(e.stat.bulletscountcache!==e.stat.bulletscount){var n="";for(var r=1;r<=e.stat.bulletscount;r++)n+='<div class="'+e.param.bulletclass.replace(".","")+'" data-index="'+r+'"></div>';e.obj.bulletswrap.empty();e.stat.bulletscount>1&&e.obj.bulletswrap.append(n);e.stat.bulletscountcache=e.stat.bulletscount}e.obj.bullets=e.obj.bulletswrap.find(e.param.bulletclass);e.set_bullet_current_class()};e.set_bullet_current=function(){var n=e.stat.currentslideindex;n+1>e.stat.slidecount&&(n-=e.stat.slidecount);if(e.param.loop==="none")e.stat.bulletcurrent=Math.ceil(n/e.stat.slidegroup)+1;else{e.stat.bulletcurrent=Math.round(n/e.stat.slidegroup)+1;e.stat.bulletcurrent>e.stat.bulletscount&&(e.stat.bulletcurrent=e.stat.bulletscount)}};e.set_bullet_current_class=function(){e.obj.bullets.removeClass(e.param.bulletcurrentclass.replace(".",""));e.obj.bulletswrap.find('[data-index="'+e.stat.bulletcurrent+'"]').addClass(e.param.bulletcurrentclass.replace(".",""))};e.bullet_click=function(){e.obj.bullets.on("click",function(){if(!e.stat.isanimating){e.stat.isanimating=!0;e.stat.slidingright=!0;var n=jQuery(this).data("index");e.stat.currentslideindex=(n-1)*e.stat.slidegroup;e.check_slider_current_index();e.animate_slider_to_current_position(e.get_animationspeed());e.stat.prevbtnclickable||e.prevbtn_click();e.stat.slidingright=!1}if(e.param.bullets){e.set_bullet_current();e.set_bullet_current_class()}e.refresh_prevnext()})};e.move_slider_to_current_index=function(){e.css_transitionduration(e.obj.slider,0);e.css_transform(e.obj.slider,e.get_sliderposition()*-1)};e.animate_slider_to_current_position=function(n){e.stat.cssanimation?e.animate_slider_to_current_position_css(n):e.animate_slider_to_current_position_js(n)};e.animate_slider_to_current_position_js=function(n){e.obj.slider.animate({"margin-left":"-"+e.get_sliderposition()+"px"},n,e.translate_easing(e.param.animationtype,"jquery"),function(){e.get_sliderposition();e.stat.isanimating=!1})};e.animate_slider_to_current_position_css=function(n){var r=e.get_sliderposition()*-1;e.css_transitionduration(e.obj.slider,n);e.css_transform(e.obj.slider,r);e.css_transitiontiming(e.obj.slider,e.param.animationtype);window.setTimeout(function(){e.get_sliderposition();e.stat.isanimating=!1;e.animation_finshed();e.stat.isios===!1},n)};e.animation_finshed=function(){};e.video_load=function(){};e.scroll_slider=function(n,r){var i=e.stat.currentslideposition*-1,s=i;r==="left"&&(s=i-Math.abs(n));r==="right"&&(s=i+Math.abs(n));e.css_transitionduration(e.obj.slider);e.css_transform(e.obj.slider,s);e.css_transitiontiming(e.obj.slider,e.param.animationtype)};e.clon_slides=function(){var n=0,r=0;if(e.stat.slidegroup>0&&e.param.loop!=="none"){for(r=0;r<e.stat.slidegroupmax*2;r++){n>e.stat.slidecount&&(n=0);e.obj.slider.append(jQuery(e.obj.slide[n]).clone());n++}e.obj.slide=jQuery(e.param.sliderid+" "+e.param.slideclass)}if(e.stat.slidegroup===0){for(r=0;r<e.stat.slidecount;r++){n>e.stat.slidecount&&(n=0);e.obj.slider.append(jQuery(e.obj.slide[n]).clone());n++}e.obj.slide=jQuery(e.param.sliderid+" "+e.param.slideclass)}};e.get_sliderposition=function(){var n=jQuery(e.obj.slide[e.stat.currentslideindex]).position().left;e.stat.currentslideposition=n;return n};e.get_animationspeed=function(){var n=e.param.animationspeed;e.stat.isswiping&&(n=e.param.swipeanimationspeed);return n};e.proof_slider_current_index=function(){if(e.stat.slidecount-e.stat.slidegroup>0&&e.stat.currentslideindex>=e.stat.slidecount-e.stat.slidegroup){e.stat.currentslideindex=e.stat.slidecount-e.stat.slidegroup;e.param.nextbtnclickable&&e.nextbtn_click_unbind()}};e.check_slider_current_index_at_start=function(){if(e.param.loop==="appending"&&e.stat.currentslideindex===0){e.stat.currentslideindex=e.stat.slidecount;e.move_slider_to_current_index()}};e.check_slider_current_index=function(){var n=!1;e.stat.slidegroup===0&&(e.stat.currentslideindex=e.stat.currentslideindex+1);e.param.loop==="none"&&e.stat.currentslideindex>=e.stat.slidecount-e.stat.slidegroup&&(e.stat.currentslideindex=e.stat.slidecount-e.stat.slidegroup);if(e.param.loop==="appending"&&e.stat.currentslideindex>e.stat.slidecount-1+e.stat.slidegroup){n=e.stat.currentslideindex-e.stat.slidecount;e.stat.currentslideindex=e.stat.currentslideindex-e.stat.slidecount-e.stat.slidegroup;e.move_slider_to_current_index();e.stat.currentslideindex=n}e.param.loop==="none"&&e.stat.currentslideindex<=0&&(e.stat.currentslideindex=0);if(e.param.loop==="appending"&&e.stat.currentslideindex<0){n=e.stat.slidecount+e.stat.currentslideindex;e.stat.currentslideindex=e.stat.currentslideindex+e.stat.slidecount+e.stat.slidegroup;e.move_slider_to_current_index();e.stat.currentslideindex=n}};e.resize=function(){e.stat.resizing=!0;e.stat.isios&&(e.stat.isresizing=!0);e.set_slidermaskwidth();e.set_slidegroup();e.set_slidesinviewport();e.set_slidewidth();e.set_slideheight();e.proof_slider_current_index();e.animate_slider_to_current_position(0);e.set_prevnext();e.param.bullets&&e.bullets();e.stat.resizing=!1;e.stat.isios&&(e.stat.isresizing=!1)};e.touchswipe=function(){function a(n,r,i,s,o){e.stat.isswiping=!0;if(r!=="move"||i!=="left"&&i!=="right")r==="cancel"?e.animate_slider_to_current_position(e.get_animationspeed()):r==="end"&&(i==="right"?e.prev_job():i==="left"&&e.next_job());else{var u=0;i==="left"?e.scroll_slider(s,i):i==="right"&&e.scroll_slider(s,i)}e.stat.isswiping=!1}var n=(e.stat.slidewidth+e.param.slidegap)*e.stat.slidegroup,r=n,i=0,s=Math.ceil(e.stat.slidecount/e.stat.slidegroup),o=e.param.swipeanimationspeed,u=e.obj.slide;e.obj.slide.swipe({triggerOnTouchEnd:!0,swipeStatus:a,allowPageScroll:"vertical"})};e.css_transform=function(e,t){var n="none";typeof t!="undefined"&&(n="translate3d("+t.toString()+"px,0px,0px)");e.css({"-webkit-transform":n,"-ms-transform":n,"-o-transform":n,"-moz-transform":n,transform:n})};e.css_transitiontiming=function(e,t){typeof t=="undefined"&&(t="none");e.css({"-webkit-transition-timing-function":t,"-ms-transition-timing-function":t,"-o-transition-timing-function":t,"-moz-transition-timing-function":t,"transition-timing-function":t})};e.css_transitionduration=function(e,t){typeof t=="undefined"&&(t=0);var n=(t/1e3).toFixed(1)+"s";e.css({"-webkit-transition-duration":n,"-ms-transition-duration":n,"-o-transition-duration":n,"-moz-transition-duration":n,"transition-duration":n})};e.css_marginleft=function(e,t){typeof t=="undefined"&&(t=0);e.css({"margin-left":t})};e.translate_easing=function(e,t){var n="linear";if(t==="jquery"){e==="linear"&&(n="linear");e==="ease"&&(n="swing")}t==="css"&&(n=e);return n};e.helper={getLength:function(e){var t=e.length?--e.length:-1;for(var n in e)t++;return t},setDefaultParam:function(n){typeof n=="undefined"&&(n={});typeof n.p=="undefined"&&(n.p={});typeof n.d=="undefined"&&(n.d={});var r=n.p;for(var i in n.d)typeof n.d[i]!="undefined"&&typeof r[i]!=typeof n.d[i]?r[i]=n.d[i]:typeof n.d[i]!="undefined"&&e.helper.getLength(r[i])!==e.helper.getLength(n.d[i])&&(r[i]=e.helper.setDefaultParam({p:r[i],d:n.d[i]}));return r}}};